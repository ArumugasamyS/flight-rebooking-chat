<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkyHigh Operator Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <i class="fas fa-plane-departure"></i>
                <span>SkyHigh Ops</span>
            </div>
            <nav class="nav-menu">
                <a href="#" class="nav-item active">
                    <i class="fas fa-columns"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-list"></i>
                    <span>Requests</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-history"></i>
                    <span>History</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </nav>
            <div class="user-profile">
                <div class="avatar">OP</div>
                <div class="info">
                    <span class="name">Operator #42</span>
                    <span class="role">Senior Agent</span>
                </div>
            </div>

            <!-- Live Ops Widget -->
            <div class="live-ops-widget">
                <h4><i class="fas fa-satellite-dish"></i> Live Ops (Europe)</h4>
                <div class="live-stat">
                    <span class="label">Cancelled > 6h</span>
                    <span class="value red" id="live-cancelled">12</span>
                </div>
                <div class="live-stat">
                    <span class="label">Delayed > 6h</span>
                    <span class="value orange" id="live-delayed">4</span>
                </div>
                <div class="live-ticker">
                    <div class="ticker-item">⚠️ SH102 Cancelled</div>
                    <div class="ticker-item">⚠️ AF450 Delayed</div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-bar">
                <h1>Flight Rebooking Requests</h1>
                <div class="header-actions">
                    <div class="lang-switch">
                        <span class="lang-opt active" onclick="setLanguage('en')">EN</span>
                        <span class="divider">|</span>
                        <span class="lang-opt" onclick="setLanguage('fr')">FR</span>
                    </div>
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search PNR, Name...">
                    </div>
                </div>
            </header>

            <!-- Stats Row -->
            <div class="stats-row">
                <div class="stat-card">
                    <div class="icon pending"><i class="fas fa-clock"></i></div>
                    <div class="details">
                        <h3 data-i18n="pending">Pending</h3>
                        <span class="value">12</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="icon approved"><i class="fas fa-check-circle"></i></div>
                    <div class="details">
                        <h3 data-i18n="approved_today">Approved Today</h3>
                        <span class="value">45</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="icon cancelled"><i class="fas fa-times-circle"></i></div>
                    <div class="details">
                        <h3 data-i18n="cancelled">Cancelled</h3>
                        <span class="value">3</span>
                    </div>
                </div>
            </div>

            <!-- Requests Table -->
            <div class="table-container">
                <table class="requests-table">
                    <thead>
                        <tr>
                            <th data-i18n="req_id">Request ID</th>
                            <th data-i18n="passenger">Passenger</th>
                            <th data-i18n="pnr">PNR</th>
                            <th data-i18n="original_flight">Original Flight</th>
                            <th data-i18n="requested_option">Requested Option</th>
                            <th data-i18n="status">Status</th>
                            <th data-i18n="action">Action</th>
                        </tr>
                    </thead>
                    <tbody id="requests-body">
                        <!-- Rows will be populated by JS -->
                    </tbody>
                </table>
            </div>
        </main>
    </div>
    <!-- More Info Modal -->
    <div id="info-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <div class="modal-header">
                <h2 data-i18n="req_details">Request Details</h2>
                <span id="modal-req-id" class="req-id"></span>
            </div>

            <div class="modal-body">
                <div class="info-section">
                    <h3 data-i18n="flight_info">Flight Information</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label data-i18n="passenger">Passenger</label>
                            <span id="modal-passenger"></span>
                        </div>
                        <div class="info-item">
                            <label data-i18n="pnr">PNR</label>
                            <span id="modal-pnr"></span>
                        </div>
                        <div class="info-item">
                            <label data-i18n="original_flight">Original Flight</label>
                            <span id="modal-original"></span>
                        </div>
                        <div class="info-item">
                            <label data-i18n="requested_option">Requested Option</label>
                            <span id="modal-option" class="highlight"></span>
                        </div>
                    </div>
                </div>

                <div class="info-section">
                    <h3 data-i18n="ai_analysis">AI Analysis & Options</h3>
                    <p class="section-desc" data-i18n="ai_desc">Review the available options and AI recommendations
                        before taking action.</p>
                    <div id="modal-options-list" class="options-list-container">
                        <!-- Populated by JS with AI tooltips -->
                    </div>
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn-action btn-reject" onclick="handleModalAction('Rejected')"
                    data-i18n="reject">Reject</button>
                <button class="btn-action btn-approve" onclick="handleModalAction('Approved')"
                    data-i18n="approve">Approve Request</button>
            </div>
        </div>
    </div>

    <script src="dashboard.js"></script>
</body>

</html>